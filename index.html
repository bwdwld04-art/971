<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø­Ø¬Ø²</title>
  <style>
    *{box-sizing:border-box}
    body{font-family:Tahoma,Arial;background:#f2f2f2;margin:0;padding:12px}
    .container{max-width:900px;margin:auto}
    .card{background:#fff;border-radius:14px;padding:18px;box-shadow:0 4px 14px rgba(0,0,0,.08)}
    h2{text-align:center;margin:0 0 14px}
    label{display:block;margin-top:10px;font-weight:600}
    input{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;margin-top:4px;font-size:15px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .col{flex:1 1 48%}
    button{width:100%;margin-top:18px;padding:14px;border:none;border-radius:12px;font-size:17px;background:#198754;color:#fff;cursor:pointer}
    button:hover{opacity:.9}
    .confirm{display:none;text-align:center;padding:40px}
    .check{width:120px;height:120px;border-radius:50%;background:#198754;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:#fff;font-size:64px}
    .invoiceNo{font-size:20px;font-weight:bold}
    @media (max-width:600px){.col{flex:1 1 100%}}
  </style>
</head>

<body>
<div class="container">

<div id="formPage" class="card">
<h2>Ù†Ù…ÙˆØ°Ø¬ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø­Ø¬Ø²</h2>

<label>Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†</label>
<input id="customer" />

<label>ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªÙŠØ©</label>
<input id="idImage" type="file" accept="image/*" />

<label>Ø³Ø§Ø¹Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„</label>
<input id="checkin" type="time" />

<div class="row">
  <div class="col">
    <label>Ø§Ù„ÙŠÙˆÙ…</label>
    <input id="day" />
  </div>
  <div class="col">
    <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
    <input id="date" type="date" />
  </div>
</div>

<div class="row">
  <div class="col">
    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø®ÙŠÙ…</label>
    <input id="camp" />
  </div>
  <div class="col">
    <label>Ø±Ù‚Ù… Ø§Ù„Ù…Ø®ÙŠÙ…</label>
    <input id="campNo" />
  </div>
</div>

<label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ</label>
<input id="people" type="number" />

<label>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ 1</label>
<input id="phone1" />

<label>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ 2</label>
<input id="phone2" />

<label>Ø³Ø§Ø¹Ø© Ø§Ù„Ø®Ø±ÙˆØ¬</label>
<input id="checkout" type="time" />

<label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø®Ø±ÙˆØ¬</label>
<input id="outDate" type="date" />

<label>ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø­ÙˆØ§Ù„Ø©</label>
<input id="receipt" type="file" accept="image/*" />

<label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡</label>
<input id="total" type="number" />

<label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹</label>
<input id="paid" type="number" oninput="calcRemain()" />

<label>Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº</label>
<input id="remain" readonly />

<button onclick="confirmBooking()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
</div>

<div id="confirmPage" class="card confirm">
  <div class="check">âœ“</div>
  <div>ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­</div>
  <div class="invoiceNo">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©: <span id="inv"></span></div>
</div>

</div>

<script>
const BOT_TOKEN = "8528188278:AAGVc4oOzJjpOgIe6tWwCpQlY5CsAdCRrzk";
const CHAT_ID = "8404960059";

function calcRemain(){
  const t = Number(total.value||0);
  const p = Number(paid.value||0);
  remain.value = t - p;
}

async function confirmBooking(){

  const message = `
ğŸ“Œ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯

ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†: ${customer.value}
ğŸ“… Ø§Ù„ÙŠÙˆÙ…: ${day.value}
ğŸ“† Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date.value}
â›º Ø§Ø³Ù… Ø§Ù„Ù…Ø®ÙŠÙ…: ${camp.value}
ğŸ”¢ Ø±Ù‚Ù… Ø§Ù„Ù…Ø®ÙŠÙ…: ${campNo.value}
ğŸ‘¥ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ: ${people.value}
ğŸ“ Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ 1: ${phone1.value}
ğŸ“ Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ 2: ${phone2.value}
ğŸ•’ Ø³Ø§Ø¹Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„: ${checkin.value}
ğŸ•˜ Ø³Ø§Ø¹Ø© Ø§Ù„Ø®Ø±ÙˆØ¬: ${checkout.value}
ğŸ“† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø®Ø±ÙˆØ¬: ${outDate.value}
ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ: ${total.value}
ğŸ’µ Ø§Ù„Ù…Ø¯ÙÙˆØ¹: ${paid.value}
ğŸ’³ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${remain.value}
`;

  await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({chat_id:CHAT_ID,text:message})
  });

  const files = document.querySelectorAll('input[type="file"]');
  for(const fileInput of files){
    if(fileInput.files.length > 0){
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("document", fileInput.files[0]);

      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendDocument`,{
        method:"POST",
        body:formData
      });
    }
  }

  inv.innerText = "INV-" + Date.now();
  formPage.style.display = "none";
  confirmPage.style.display = "block";
}
</script>

</body>
</html>
